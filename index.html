<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clase de Ingl√©s A1 para Adolescentes</title>
    <link rel="stylesheet" href="./style.css"> 
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <header id="main-header">
        <h1 class="main-title">¬°Aprende Ingl√©s Nivel A1 de la Manera M√°s Divertida! üöÄ</h1>
        <p>Tu aventura con el Presente Simple, Vocabulario y mucho m√°s.</p>
    </header>

    <section class="content-section vocabulary-section" id="vocabulario">
        <h2>English Vocabulary A1 for Teenagers</h2>

        <div class="tab-controls">
            <button class="tab-button active" data-tab="all">Mostrar Todo</button>
            <button class="tab-button" data-tab="personal">Info Personal</button>
            <button class="tab-button" data-tab="school">Escuela</button>
            <button class="tab-button" data-tab="home">Casa</button>
            <button class="tab-button" data-tab="routine">Rutina</button>
            <button class="tab-button" data-tab="food">Comida</button>
            <button class="tab-button" data-tab="free-time">Tiempo Libre</button>
            <button class="tab-button" data-tab="clothes">Ropa</button>
            <button class="tab-button" data-tab="weather">Clima</button>
            <button class="tab-button" data-tab="places">Lugares</button>
            <button class="tab-button" data-tab="expressions">Expresiones</button>
            <button class="tab-button" data-tab="verbs">Verbos</button> 
        </div>

        <div class="vocabulary-grid">
            
            <div class="vocab-card" data-category="personal">
                <h3>Personal Information / Informaci√≥n personal</h3>
                <table>
                    <thead><tr><th>English</th><th>Espa√±ol</th></tr></thead>
                    <tbody>
                        <tr><td>name</td><td>nombre</td></tr>
                        <tr><td>age</td><td>edad</td></tr>
                        <tr><td>birthday</td><td>cumplea√±os</td></tr>
                        <tr><td>boy / girl</td><td>chico / chica</td></tr>
                        <tr><td>friend</td><td>amigo / amiga</td></tr>
                        <tr><td>family</td><td>familia</td></tr>
                        <tr><td>parents</td><td>padres</td></tr>
                        <tr><td>brother / sister</td><td>hermano / hermana</td></tr>
                        <tr><td>son / daughter</td><td>hijo / hija</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="vocab-card" data-category="school">
                <h3>School and Learning / Escuela y aprendizaje</h3>
                <table>
                    <thead><tr><th>English</th><th>Espa√±ol</th></tr></thead>
                    <tbody>
                        <tr><td>school</td><td>escuela / colegio</td></tr>
                        <tr><td>class</td><td>clase</td></tr>
                        <tr><td>teacher</td><td>profesor/a</td></tr>
                        <tr><td>student</td><td>estudiante</td></tr>
                        <tr><td>book</td><td>libro</td></tr>
                        <tr><td>notebook</td><td>cuaderno</td></tr>
                        <tr><td>pen / pencil</td><td>bol√≠grafo / l√°piz</td></tr>
                        <tr><td>backpack</td><td>mochila</td></tr>
                        <tr><td>desk</td><td>escritorio</td></tr>
                        <tr><td>homework</td><td>tarea</td></tr>
                        <tr><td>exam / test</td><td>examen</td></tr>
                        <tr><td>subject</td><td>materia / asignatura</td></tr>
                        <tr><td>break</td><td>descanso / recreo</td></tr>
                    </tbody>
                </table>
            </div>
            
            <div class="vocab-card" data-category="home">
                <h3>Home and Family / Casa y familia</h3>
                <table>
                    <thead><tr><th>English</th><th>Espa√±ol</th></tr></thead>
                    <tbody>
                        <tr><td>house</td><td>casa</td></tr>
                        <tr><td>room</td><td>habitaci√≥n</td></tr>
                        <tr><td>kitchen</td><td>cocina</td></tr>
                        <tr><td>bathroom</td><td>ba√±o</td></tr>
                        <tr><td>bed</td><td>cama</td></tr>
                        <tr><td>chair</td><td>silla</td></tr>
                        <tr><td>table</td><td>mesa</td></tr>
                        <tr><td>TV</td><td>televisor</td></tr>
                        <tr><td>window</td><td>ventana</td></tr>
                        <tr><td>door</td><td>puerta</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="vocab-card" data-category="routine">
                <h3>Daily Routine / Rutina diaria</h3>
                <table>
                    <thead><tr><th>English</th><th>Espa√±ol</th></tr></thead>
                    <tbody>
                        <tr><td>wake up</td><td>despertarse</td></tr>
                        <tr><td>get up</td><td>levantarse</td></tr>
                        <tr><td>brush teeth</td><td>cepillarse los dientes</td></tr>
                        <tr><td>take a shower</td><td>ducharse</td></tr>
                        <tr><td>have breakfast</td><td>desayunar</td></tr>
                        <tr><td>go to school</td><td>ir al colegio</td></tr>
                        <tr><td>do homework</td><td>hacer la tarea</td></tr>
                        <tr><td>have dinner</td><td>cenar</td></tr>
                        <tr><td>go to bed</td><td>acostarse</td></tr>
                    </tbody>
                </table>
            </div>
            
            <div class="vocab-card" data-category="food">
                <h3>Food and Drinks / Comida y bebidas</h3>
                <table>
                    <thead><tr><th>English</th><th>Espa√±ol</th></tr></thead>
                    <tbody>
                        <tr><td>water</td><td>agua</td></tr>
                        <tr><td>milk</td><td>leche</td></tr>
                        <tr><td>bread</td><td>pan</td></tr>
                        <tr><td>rice</td><td>arroz</td></tr>
                        <tr><td>fruit</td><td>fruta</td></tr>
                        <tr><td>apple</td><td>manzana</td></tr>
                        <tr><td>banana</td><td>banano</td></tr>
                        <tr><td>meat</td><td>carne</td></tr>
                        <tr><td>chicken</td><td>pollo</td></tr>
                        <tr><td>fish</td><td>pescado</td></tr>
                        <tr><td>vegetables</td><td>verduras</td></tr>
                        <tr><td>sandwich</td><td>s√°ndwich</td></tr>
                        <tr><td>juice</td><td>jugo</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="vocab-card" data-category="free-time">
                <h3>Free Time and Hobbies / Tiempo libre y pasatiempos</h3>
                <table>
                    <thead><tr><th>English</th><th>Espa√±ol</th></tr></thead>
                    <tbody>
                        <tr><td>music</td><td>m√∫sica</td></tr>
                        <tr><td>song</td><td>canci√≥n</td></tr>
                        <tr><td>movie</td><td>pel√≠cula</td></tr>
                        <tr><td>video game</td><td>videojuego</td></tr>
                        <tr><td>dance</td><td>bailar</td></tr>
                        <tr><td>read</td><td>leer</td></tr>
                        <tr><td>draw</td><td>dibujar</td></tr>
                        <tr><td>play football</td><td>jugar f√∫tbol</td></tr>
                        <tr><td>go out</td><td>salir</td></tr>
                        <tr><td>chat</td><td>chatear</td></tr>
                    </tbody>
                </table>
            </div>
            
            <div class="vocab-card" data-category="clothes">
                <h3>Clothes / Ropa</h3>
                <table>
                    <thead><tr><th>English</th><th>Espa√±ol</th></tr></thead>
                    <tbody>
                        <tr><td>shirt</td><td>camisa</td></tr>
                        <tr><td>pants</td><td>pantalones</td></tr>
                        <tr><td>dress</td><td>vestido</td></tr>
                        <tr><td>shoes</td><td>zapatos</td></tr>
                        <tr><td>jacket</td><td>chaqueta</td></tr>
                        <tr><td>skirt</td><td>falda</td></tr>
                        <tr><td>T-shirt</td><td>camiseta</td></tr>
                        <tr><td>socks</td><td>medias</td></tr>
                        <tr><td>hat</td><td>sombrero / gorra</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="vocab-card" data-category="weather">
                <h3>Weather and Seasons / Clima y estaciones</h3>
                <table>
                    <thead><tr><th>English</th><th>Espa√±ol</th></tr></thead>
                    <tbody>
                        <tr><td>sunny</td><td>soleado</td></tr>
                        <tr><td>rainy</td><td>lluvioso</td></tr>
                        <tr><td>cloudy</td><td>nublado</td></tr>
                        <tr><td>cold</td><td>fr√≠o</td></tr>
                        <tr><td>hot</td><td>caluroso</td></tr>
                        <tr><td>snow</td><td>nieve</td></tr>
                        <tr><td>wind</td><td>viento</td></tr>
                        <tr><td>summer</td><td>verano</td></tr>
                        <tr><td>winter</td><td>invierno</td></tr>
                        <tr><td>spring</td><td>primavera</td></tr>
                        <tr><td>autumn (fall)</td><td>oto√±o</td></tr>
                    </tbody>
                </table>
            </div>
            
            <div class="vocab-card" data-category="places">
                <h3>Places in Town / Lugares de la ciudad</h3>
                <table>
                    <thead><tr><th>English</th><th>Espa√±ol</th></tr></thead>
                    <tbody>
                        <tr><td>park</td><td>parque</td></tr>
                        <tr><td>school</td><td>escuela</td></tr>
                        <tr><td>supermarket</td><td>supermercado</td></tr>
                        <tr><td>hospital</td><td>hospital</td></tr>
                        <tr><td>cinema</td><td>cine</td></tr>
                        <tr><td>store / shop</td><td>tienda</td></tr>
                        <tr><td>restaurant</td><td>restaurante</td></tr>
                        <tr><td>library</td><td>biblioteca</td></tr>
                        <tr><td>bus stop</td><td>parada de bus</td></tr>
                        <tr><td>street</td><td>calle</td></tr>
                    </tbody>
                </table>
            </div>
            
            <div class="vocab-card" data-category="expressions">
                <h3>Useful Expressions / Expresiones √∫tiles</h3>
                <table>
                    <thead><tr><th>English</th><th>Espa√±ol</th></tr></thead>
                    <tbody>
                        <tr><td>Hello / Hi</td><td>Hola</td></tr>
                        <tr><td>How are you?</td><td>¬øC√≥mo est√°s?</td></tr>
                        <tr><td>"I‚Äôm fine, thanks"</td><td>"Estoy bien, gracias"</td></tr>
                        <tr><td>What‚Äôs your name?</td><td>¬øC√≥mo te llamas?</td></tr>
                        <tr><td>Nice to meet you</td><td>Encantado de conocerte</td></tr>
                        <tr><td>See you later</td><td>Nos vemos luego</td></tr>
                        <tr><td>Thank you</td><td>Gracias</td></tr>
                        <tr><td>You‚Äôre welcome</td><td>De nada</td></tr>
                        <tr><td>Please</td><td>Por favor</td></tr>
                        <tr><td>Sorry</td><td>Lo siento</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="vocab-card full-width" data-category="verbs">
                <h3>Verbos en Diferentes Formas (Presente Simple)</h3>
                <p>Pr√°ctica de verbos comunes en diferentes formas de oraci√≥n (Nivel A1).</p>
                
                <h4>Acciones personales</h4>
                <table>
                    <thead><tr><th>Verb</th><th>Affirmative</th><th>Negative</th><th>Interrogative</th><th>Third Person</th></tr></thead>
                    <tbody>
                        <tr><td>like</td><td>I like pizza.</td><td>I don‚Äôt like pizza.</td><td>Do you like pizza?</td><td>He likes pizza.</td></tr>
                        <tr><td>play</td><td>I play football.</td><td>I don‚Äôt play football.</td><td>Do you play football?</td><td>She plays football.</td></tr>
                        <tr><td>have</td><td>I have a cat.</td><td>I don‚Äôt have a cat.</td><td>Do you have a cat?</td><td>He has a cat.</td></tr>
                        <tr><td>go</td><td>I go to school.</td><td>I don‚Äôt go to school.</td><td>Do you go to school?</td><td>She goes to school.</td></tr>
                        <tr><td>watch</td><td>I watch TV.</td><td>I don‚Äôt watch TV.</td><td>Do you watch TV?,</td><td>He watches TV.</td></tr>
                    </tbody>
                </table>
                <h4>Rutina diaria</h4>
                <table>
                    </table>
                <h4>Tiempo libre</h4>
                <table>
                    </table>
                <h4>Comida y bebidas</h4>
                <table>
                    </table>
                <h4>Escuela</h4>
                <table>
                    </table>
            </div>
        </div>
    </section>
    
    <section class="content-section links-section" id="liveworksheets">
        <h2>Recursos Interactivos (Liveworksheets)</h2>
        
        <div class="links-grid">
            <a href="https://www.liveworksheets.com/worksheet/en/esl-grammar/59098" target="_blank" class="resource-card">
                <img src="https://via.placeholder.com/300x150?text=EJERCICIO+GRAMATICA" alt="Grammar Worksheet">
                <h3>Gram√°tica: Presente Simple</h3>
                <p>Ejercicios interactivos para practicar el Presente Simple.</p>
            </a>

            <a href="https://www.liveworksheets.com/worksheet/en/esl-vocabulary/51595" target="_blank" class="resource-card">
                <img src="https://via.placeholder.com/300x150?text=EJERCICIO+VOCABULARIO" alt="Vocabulary Worksheet">
                <h3>Vocabulario A1</h3>
                <p>Completa las oraciones con vocabulario b√°sico.</p>
            </a>
        </div>
    </section>

    <section class="content-section interactive-activities" id="actividades">
        <h2>¬°A Jugar! Actividades Interactivas</h2>

        <div class="activity-card">
            <h4>Activity 1: Fill in the Blanks (Completa los espacios)</h4>
            <p>Escucha la canci√≥n y arrastra las palabras del banco para completar la letra.</p>
            
            <div class="word-bank" id="word-bank">
                </div>

            <div class="lyrics-container">
                <p>It feels like a perfect <span class="drop-zone" data-correct="night"></span> To dress up like <span class="drop-zone" data-correct="hipsters"></span>
                And make <span class="drop-zone" data-correct="fun"></span> of our exes, uh uh, uh uh.</p>
                <p>It feels like a perfect <span class="drop-zone" data-correct="night"></span> For <span class="drop-zone" data-correct="dancing"></span> at midnight
                To fall in love with strangers, uh uh, uh uh.</p>
                <p>Yeah, We‚Äôre <span class="drop-zone" data-correct="happy"></span>, free, confused and lonely at the same time,
                It‚Äôs miserable and magical, oh yeah. Tonight‚Äôs the <span class="drop-zone" data-correct="night"></span>
                When we forget about the <span class="drop-zone" data-correct="deadlines"></span>, it‚Äôs time, oh oh.</p>
                <p>I don‚Äôt know about <span class="drop-zone" data-correct="you"></span>. But I‚Äôm feeling <span class="drop-zone" data-correct="22"></span>.
                Everything will be all <span class="drop-zone" data-correct="right"></span> If you keep me next to you.</p>
                <p>You don‚Äôt know about me, But I bet you want to.
                Everything will be alright If we just keep <span class="drop-zone" data-correct="dancing"></span>, like we‚Äôre 22.</p>
            </div>
            <button class="check-button" onclick="checkFillInTheBlanks()">Verificar Respuestas</button>
            <p id="fill-in-result" class="result-message"></p>
        </div>

        <div class="activity-card">
            <h4>Activity 2: Vocabulary Match (Emparejar)</h4>
            <p>Selecciona una palabra en ingl√©s y luego su traducci√≥n en espa√±ol.</p>
            <div class="match-grid" id="match-grid">
                </div>
            <p id="match-result" class="result-message"></p>
        </div>
    </section>

    <section class="content-section video-section" id="videos">
        <h2>Videos Clave de la Lecci√≥n</h2>
        
        <div class="video-grid-2x2">
            
            <div class="video-item-container"> 
                <div class="video-2x2-item">
                    <iframe src="https://www.youtube.com/embed/wtTAdfyejH0" title="Present Simple A1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
                <p class="video-title-overlay">Presente Simple (Lecci√≥n)</p>
            </div>
            
            <div class="video-item-container">
                <div class="video-2x2-item">
                    <iframe src="https://www.youtube.com/embed/iIQmMGR0LqY" title="Present Simple Practice" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
                <p class="video-title-overlay">Presente Simple (Pr√°ctica)</p>
            </div>
            
            <div class="video-item-container">
                <div class="video-2x2-item">
                    <iframe src="https://www.youtube.com/embed/ySg4tPBOcWw" title="Daily Routines A1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
                <p class="video-title-overlay">Rutinas Diarias (Vocabulario)</p>
            </div>
            
            <div class="video-item-container">
                <div class="video-2x2-item">
                    <iframe src="https://www.youtube.com/embed/EAw83pIy21k" title="Hobbies and Free Time" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
                <p class="video-title-overlay">Hobbies y Tiempo Libre</p>
            </div>
        </div>
    </section>

    <div class="chatbot-container">
        <button id="chatbot-button" onclick="toggleChat()">ü§ñ ChatBot IA</button>
        <div id="chatbot-window">
            <div class="chatbot-header">Chat con tu Tutor Virtual</div>
            <div class="chatbot-body">
                <p>¬°Hola! Soy tu asistente de ingl√©s. Preg√∫ntame sobre el vocabulario o la gram√°tica A1.</p>
                <p class="nota">**NOTA IMPORTANTE:** Esta es una simulaci√≥n de interfaz. Integrar una IA real requiere servicios avanzados.</p>
            </div>
        </div>
    </div>

    <footer>
        <p>¬© 2025 Clase de Ingl√©s A1. Todos los derechos reservados.</p>
    </footer>

    <script>
        // --- Confetti Easter Egg (Encabezado) ---
        document.getElementById('main-header').addEventListener('click', function(e) {
            // ... (El c√≥digo del confetti va aqu√≠, sin cambios) ...
            for (let i = 0; i < 30; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = `${e.clientX + (Math.random() * 40 - 20)}px`;
                confetti.style.top = `${e.clientY + (Math.random() * 40 - 20)}px`;
                const colors = ['var(--color-primary)', 'var(--color-primary-light)', 'var(--color-accent)', 'var(--color-white)'];
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.width = `${Math.random() * 8 + 5}px`;
                confetti.style.height = `${Math.random() * 8 + 5}px`;
                if (Math.random() > 0.5) confetti.style.borderRadius = '0';
                confetti.style.setProperty('--x', `${Math.random() * 300 - 150}px`);
                confetti.style.setProperty('--y', `${Math.random() * 200 + 100}px`);
                document.body.appendChild(confetti);
                confetti.addEventListener('animationend', () => {
                    confetti.remove();
                });
            }
        });


        // Funci√≥n para el ChatBot (con Easter Egg de rebote)
        function toggleChat() {
            var chatWindow = document.getElementById('chatbot-window');
            var isHidden = chatWindow.style.display === 'block';

            if (isHidden) {
                chatWindow.style.display = 'none';
                chatWindow.classList.remove('chatbot-window-open');
            } else {
                chatWindow.style.display = 'block';
                chatWindow.classList.add('chatbot-window-open');
            }
        }

        // --- L√ìGICA DE ACTIVIDADES INTERACTIVAS ---

        // ¬°¬°ARREGLADO!! - Se a√±adieron las palabras que faltaban y duplicados
        const fillInWords = [
            "night", "hipsters", "fun", "night", "dancing", "happy", 
            "night", "deadlines", "you", "22", "right", "dancing",
            "breakfast", "lonely", "strangers" // Palabras extra (distractores)
        ]; 
        
        const matchPairs = [
            { en: "night", es: "noche" },
            { en: "friends", es: "amigos" },
            { en: "breakfast", es: "desayuno" },
            { en: "dancing", es: "bailar" },
            { en: "feel", es: "sentirse" },
            { en: "heartbreak", es: "coraz√≥n roto" },
            { en: "fun", es: "diversi√≥n" },
            { en: "right", es: "correcto" }
        ];

        // Utilidad para desordenar un array
        function shuffleArray(array) {
            let newArray = [...array]; // Copiar el array para no modificar el original
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        // 1. FILL IN THE BLANKS
        let draggedElement = null;

        function initializeFillInTheBlanks() {
            const wordBank = document.getElementById('word-bank');
            if (!wordBank) return;

            wordBank.innerHTML = ''; // Limpiar
            const words = shuffleArray(fillInWords); // Usar el array global

            words.forEach(word => {
                const draggable = document.createElement('span');
                draggable.className = 'draggable-word';
                draggable.textContent = word;
                draggable.setAttribute('draggable', true);
                draggable.addEventListener('dragstart', dragStart);
                wordBank.appendChild(draggable);
            });

            // Limpiar zonas de soltar
            document.querySelectorAll('.drop-zone').forEach(zone => {
                zone.innerHTML = ''; 
                zone.classList.remove('correct', 'incorrect');
                zone.addEventListener('dragover', dragOver);
                zone.addEventListener('drop', drop);
                zone.addEventListener('dragleave', dragLeave);
            });
            // Limpiar mensaje de resultado
            const resultMsg = document.getElementById('fill-in-result');
            if (resultMsg) resultMsg.textContent = ''; 
        }

        function dragStart(e) {
            draggedElement = e.target;
            e.dataTransfer.setData('text/plain', e.target.textContent);
            setTimeout(() => {
                if (draggedElement) draggedElement.classList.add('hide');
            }, 0);
        }

        function dragOver(e) {
            e.preventDefault();
            if (e.target.children.length === 0 && e.target.classList.contains('drop-zone')) {
                e.target.classList.add('drag-over');
            }
        }

        function dragLeave(e) {
            e.target.classList.remove('drag-over');
        }

        function drop(e) {
            e.preventDefault();
            e.target.classList.remove('drag-over');

            if (e.target.children.length === 0 && e.target.classList.contains('drop-zone') && draggedElement) {
                const clone = draggedElement.cloneNode(true);
                clone.removeAttribute('draggable');
                clone.classList.remove('hide', 'draggable-word');
                clone.classList.add('dropped');
                e.target.appendChild(clone);
                
                draggedElement.style.visibility = 'hidden'; 
                draggedElement.classList.add('used'); 
                draggedElement = null; 
            }
        }

        function checkFillInTheBlanks() {
            let correctCount = 0;
            const totalBlanks = document.querySelectorAll('.drop-zone').length;
            
            document.querySelectorAll('.drop-zone').forEach(zone => {
                const droppedWordElement = zone.querySelector('.dropped');
                if (droppedWordElement) {
                    const droppedWord = droppedWordElement.textContent.trim().toLowerCase();
                    const correctWord = zone.getAttribute('data-correct').toLowerCase();

                    if (droppedWord === correctWord) {
                        zone.classList.add('correct');
                        zone.classList.remove('incorrect');
                        correctCount++;
                    } else {
                        zone.classList.add('incorrect');
                        zone.classList.remove('correct');
                    }
                } else {
                    zone.classList.remove('correct', 'incorrect');
                }
            });

            const resultMessage = document.getElementById('fill-in-result');
            if (correctCount === totalBlanks) {
                resultMessage.textContent = '¬°Felicidades! Todas las respuestas son correctas. üéâ';
                resultMessage.style.color = 'green';
            } else {
                resultMessage.textContent = `Tienes ${correctCount} de ${totalBlanks} respuestas correctas. ¬°Sigue practicando!`;
                resultMessage.style.color = 'red';
            }
        }


        // 2. VOCABULARY MATCH
        let selectedEnglishCard = null;
        let selectedSpanishCard = null;
        let matchedPairs = 0;

        function initializeMatchGame() {
            const matchGrid = document.getElementById('match-grid');
            if (!matchGrid) return;

            matchGrid.innerHTML = ''; 
            const resultMsg = document.getElementById('match-result');
            if (resultMsg) resultMsg.textContent = ''; 

            matchedPairs = 0;

            const cards = [];
            matchPairs.forEach(pair => {
                cards.push({ text: pair.en, lang: 'en', match: pair.es });
                cards.push({ text: pair.es, lang: 'es', match: pair.en });
            });

            const shuffledCards = shuffleArray(cards);
            
            shuffledCards.forEach(cardData => {
                const card = document.createElement('div');
                card.className = 'match-card';
                card.textContent = cardData.text;
                card.setAttribute('data-lang', cardData.lang);
                card.setAttribute('data-match', cardData.match);
                card.addEventListener('click', () => selectCard(card));
                matchGrid.appendChild(card);
            });
        }

        function selectCard(card) {
            if (card.classList.contains('matched') || card.classList.contains('selected')) {
                return;
            }

            if (card.getAttribute('data-lang') === 'en' && selectedEnglishCard) {
                selectedEnglishCard.classList.remove('selected');
                selectedEnglishCard = null;
            } else if (card.getAttribute('data-lang') === 'es' && selectedSpanishCard) {
                selectedSpanishCard.classList.remove('selected');
                selectedSpanishCard = null;
            }
            
            card.classList.add('selected');

            if (card.getAttribute('data-lang') === 'en') {
                selectedEnglishCard = card;
            } else {
                selectedSpanishCard = card;
            }

            if (selectedEnglishCard && selectedSpanishCard) {
                const enMatch = selectedEnglishCard.getAttribute('data-match');
                const esText = selectedSpanishCard.textContent;

                if (enMatch.toLowerCase() === esText.toLowerCase()) {
                    selectedEnglishCard.classList.add('matched');
                    selectedSpanishCard.classList.add('matched');
                    selectedEnglishCard.classList.remove('selected');
                    selectedSpanishCard.classList.remove('selected');
                    
                    selectedEnglishCard = null;
                    selectedSpanishCard = null;
                    matchedPairs++;

                    if (matchedPairs === matchPairs.length) {
                        document.getElementById('match-result').textContent = '¬°Juego completo! Excelente. üéâ';
                        document.getElementById('match-result').style.color = 'green';
                    }
                } else {
                    const tempEnCard = selectedEnglishCard;
                    const tempEsCard = selectedSpanishCard;

                    tempEnCard.classList.add('mismatch');
                    tempEsCard.classList.add('mismatch');
                    
                    setTimeout(() => {
                        tempEnCard.classList.remove('selected', 'mismatch');
                        tempEsCard.classList.remove('selected', 'mismatch');
                    }, 800);

                    selectedEnglishCard = null;
                    selectedSpanishCard = null;
                }
            }
        }


        // --- L√ìGICA DE PESTA√ëAS (TABS) ---
        function setupTabs() {
            const tabButtons = document.querySelectorAll('.tab-button');
            const vocabCards = document.querySelectorAll('.vocabulary-grid .vocab-card');

            if (tabButtons.length === 0) return;

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const selectedTab = button.getAttribute('data-tab');

                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');

                    vocabCards.forEach(card => {
                        const category = card.getAttribute('data-category');
                        const isVisible = (selectedTab === 'all') || (category === selectedTab);

                        if (isVisible) {
                            card.classList.remove('card-hidden');
                        } else {
                            card.classList.add('card-hidden');
                        }
                    });
                });
            });

            setTimeout(() => {
                const allButton = document.querySelector('.tab-button[data-tab="all"]');
                if (allButton) {
                    allButton.click();
                }
            }, 50); 
        }


        // --- Ejecutar todo al cargar el DOM ---
        document.addEventListener('DOMContentLoaded', function() {
            initializeFillInTheBlanks();
            initializeMatchGame();
            setupTabs();
        });

    </script>

</body>
</html>

