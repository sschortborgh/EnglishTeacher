<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clase de InglÃ©s A1 para Adolescentes</title>
    <link rel="stylesheet" href="./style.css"> 
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

    <header>
        <h1 class="main-title">Â¡Aprende InglÃ©s Nivel A1 de la Manera MÃ¡s Divertida! ðŸš€</h1>
        <p>Tu aventura con el Presente Simple, Vocabulario y mucho mÃ¡s.</p>
    </header>

    <section class="content-section links-section">
        <h2>Recursos Interactivos y Videos de Apoyo</h2>
        
        <div class="links-grid">
            <a href="https://www.liveworksheets.com/worksheet/en/esl-grammar/59098" target="_blank" class="resource-card">
                <img src="https://via.placeholder.com/300x150?text=EJERCICIO+GRAMATICA" alt="Grammar Worksheet">
                <h3>GramÃ¡tica: Presente Simple</h3>
                <p>Ejercicios interactivos para practicar el Presente Simple.</p>
            </a>

            <a href="https://www.liveworksheets.com/worksheet/en/esl-vocabulary/51595" target="_blank" class="resource-card">
                <img src="https://via.placeholder.com/300x150?text=EJERCICIO+VOCABULARIO" alt="Vocabulary Worksheet">
                <h3>Vocabulario A1</h3>
                <p>Completa las oraciones con vocabulario bÃ¡sico.</p>
            </a>
        </div>
        
        <h3>Videos Clave de la LecciÃ³n</h3>
        <div class="video-grid-2x2">
            
            <div class="video-2x2-item">
                <iframe
                    src="https://www.youtube.com/embed/wtTAdfyejH0"
                    title="Present Simple A1"
                    frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen>
                </iframe>
                <p class="video-title-overlay">Presente Simple (LecciÃ³n)</p>
            </div>
            
            <div class="video-2x2-item">
                <iframe
                    src="https://www.youtube.com/embed/iIQmMGR0LqY"
                    title="Present Simple Practice"
                    frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen>
                </iframe>
                <p class="video-title-overlay">Presente Simple (PrÃ¡ctica)</p>
            </div>
            
            <div class="video-2x2-item">
                <iframe
                    src="https://www.youtube.com/embed/ySg4tPBOcWw"
                    title="Daily Routines A1"
                    frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen>
                </iframe>
                <p class="video-title-overlay">Rutinas Diarias (Vocabulario)</p>
            </div>
            
            <div class="video-2x2-item">
                <iframe
                    src="https://www.youtube.com/embed/EAw83pIy21k"
                    title="Hobbies and Free Time"
                    frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen>
                </iframe>
                <p class="video-title-overlay">Hobbies y Tiempo Libre</p>
            </div>
        </div>
        </section>

    <section class="content-section interactive-activities">
        <h2>Â¡A Jugar! Actividades Interactivas</h2>

        <div class="activity-card">
            <h4>Activity 1: Fill in the Blanks (Completa los espacios)</h4>
            <p>Escucha la canciÃ³n y arrastra las palabras del banco para completar la letra.</p>
            
            <div class="word-bank" id="word-bank">
            </div>

            <div class="lyrics-container">
                <p>It feels like a perfect <span class="drop-zone" data-correct="night"></span> To dress up like <span class="drop-zone" data-correct="hipsters"></span>
                And make <span class="drop-zone" data-correct="fun"></span> of our exes, uh uh, uh uh.</p>
                <p>It feels like a perfect <span class="drop-zone" data-correct="night"></span> For <span class="drop-zone" data-correct="dancing"></span> at midnight
                To fall in love with strangers, uh uh, uh uh.</p>
                <p>Yeah, Weâ€™re <span class="drop-zone" data-correct="happy"></span>, free, confused and lonely at the same time,
                Itâ€™s miserable and magical, oh yeah. Tonightâ€™s the <span class="drop-zone" data-correct="night"></span>
                When we forget about the <span class="drop-zone" data-correct="deadlines"></span>, itâ€™s time, oh oh.</p>
                <p>I donâ€™t know about <span class="drop-zone" data-correct="you"></span>. But Iâ€™m feeling <span class="drop-zone" data-correct="22"></span>.
                Everything will be all <span class="drop-zone" data-correct="right"></span> If you keep me next to you.</p>
                <p>You donâ€™t know about me, But I bet you want to.
                Everything will be alright If we just keep <span class="drop-zone" data-correct="dancing"></span>, like weâ€™re 22.</p>
            </div>
            <button class="check-button" onclick="checkFillInTheBlanks()">Verificar Respuestas</button>
            <p id="fill-in-result" class="result-message"></p>
        </div>

        <div class="activity-card">
            <h4>Activity 2: Vocabulary Match (Emparejar)</h4>
            <p>Selecciona una palabra en inglÃ©s y luego su traducciÃ³n en espaÃ±ol.</p>
            <div class="match-grid" id="match-grid">
            </div>
            <p id="match-result" class="result-message"></p>
        </div>

    </section>

    <section class="content-section vocabulary-section">
        <h2>English Vocabulary A1 for Teenagers</h2>

        <div class="vocabulary-grid">
            <div class="vocab-card">
                <h3>Personal Information / InformaciÃ³n personal</h3>
                <table>
                    <thead><tr><th>English</th><th>EspaÃ±ol</th></tr></thead>
                    <tbody>
                        <tr><td>name</td><td>nombre</td></tr>
                        <tr><td>age</td><td>edad</td></tr>
                        <tr><td>birthday</td><td>cumpleaÃ±os</td></tr>
                        <tr><td>boy / girl</td><td>chico / chica</td></tr>
                        <tr><td>friend</td><td>amigo / amiga</td></tr>
                        <tr><td>family</td><td>familia</td></tr>
                        <tr><td>parents</td><td>padres</td></tr>
                        <tr><td>brother / sister</td><td>hermano / hermana</td></tr>
                        <tr><td>son / daughter</td><td>hijo / hija</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="vocab-card">
                <h3>School and Learning / Escuela y aprendizaje</h3>
                <table>
                    <thead><tr><th>English</th><th>EspaÃ±ol</th></tr></thead>
                    <tbody>
                        <tr><td>school</td><td>escuela / colegio</td></tr>
                        <tr><td>class</td><td>clase</td></tr>
                        <tr><td>teacher</td><td>profesor/a</td></tr>
                        <tr><td>student</td><td>estudiante</td></tr>
                        <tr><td>book</td><td>libro</td></tr>
                        <tr><td>notebook</td><td>cuaderno</td></tr>
                        <tr><td>pen / pencil</td><td>bolÃ­grafo / lÃ¡piz</td></tr>
                        <tr><td>backpack</td><td>mochila</td></tr>
                        <tr><td>desk</td><td>escritorio</td></tr>
                        <tr><td>homework</td><td>tarea</td></tr>
                        <tr><td>exam / test</td><td>examen</td></tr>
                        <tr><td>subject</td><td>materia / asignatura</td></tr>
                        <tr><td>break</td><td>descanso / recreo</td></tr>
                    </tbody>
                </table>
            </div>
            
            <div class="vocab-card">
                <h3>Home and Family / Casa y familia</h3>
                <table>
                    <thead><tr><th>English</th><th>EspaÃ±ol</th></tr></thead>
                    <tbody>
                        <tr><td>house</td><td>casa</td></tr>
                        <tr><td>room</td><td>habitaciÃ³n</td></tr>
                        <tr><td>kitchen</td><td>cocina</td></tr>
                        <tr><td>bathroom</td><td>baÃ±o</td></tr>
                        <tr><td>bed</td><td>cama</td></tr>
                        <tr><td>chair</td><td>silla</td></tr>
                        <tr><td>table</td><td>mesa</td></tr>
                        <tr><td>TV</td><td>televisor</td></tr>
                        <tr><td>window</td><td>ventana</td></tr>
                        <tr><td>door</td><td>puerta</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="vocab-card">
                <h3>Daily Routine / Rutina diaria</h3>
                <table>
                    <thead><tr><th>English</th><th>EspaÃ±ol</th></tr></thead>
                    <tbody>
                        <tr><td>wake up</td><td>despertarse</td></tr>
                        <tr><td>get up</td><td>levantarse</td></tr>
                        <tr><td>brush teeth</td><td>cepillarse los dientes</td></tr>
                        <tr><td>take a shower</td><td>ducharse</td></tr>
                        <tr><td>have breakfast</td><td>desayunar</td></tr>
                        <tr><td>go to school</td><td>ir al colegio</td></tr>
                        <tr><td>do homework</td><td>hacer la tarea</td></tr>
                        <tr><td>have dinner</td><td>cenar</td></tr>
                        <tr><td>go to bed</td><td>acostarse</td></tr>
                    </tbody>
                </table>
            </div>
            
            <div class="vocab-card">
                <h3>Food and Drinks / Comida y bebidas</h3>
                <table>
                    <thead><tr><th>English</th><th>EspaÃ±ol</th></tr></thead>
                    <tbody>
                        <tr><td>water</td><td>agua</td></tr>
                        <tr><td>milk</td><td>leche</td></tr>
                        <tr><td>bread</td><td>pan</td></tr>
                        <tr><td>rice</td><td>arroz</td></tr>
                        <tr><td>fruit</td><td>fruta</td></tr>
                        <tr><td>apple</td><td>manzana</td></tr>
                        <tr><td>banana</td><td>banano</td></tr>
                        <tr><td>meat</td><td>carne</td></tr>
                        <tr><td>chicken</td><td>pollo</td></tr>
                        <tr><td>fish</td><td>pescado</td></tr>
                        <tr><td>vegetables</td><td>verduras</td></tr>
                        <tr><td>sandwich</td><td>sÃ¡ndwich</td></tr>
                        <tr><td>juice</td><td>jugo</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="vocab-card">
                <h3>Free Time and Hobbies / Tiempo libre y pasatiempos</h3>
                <table>
                    <thead><tr><th>English</th><th>EspaÃ±ol</th></tr></thead>
                    <tbody>
                        <tr><td>music</td><td>mÃºsica</td></tr>
                        <tr><td>song</td><td>canciÃ³n</td></tr>
                        <tr><td>movie</td><td>pelÃ­cula</td></tr>
                        <tr><td>video game</td><td>videojuego</td></tr>
                        <tr><td>dance</td><td>bailar</td></tr>
                        <tr><td>read</td><td>leer</td></tr>
                        <tr><td>draw</td><td>dibujar</td></tr>
                        <tr><td>play football</td><td>jugar fÃºtbol</td></tr>
                        <tr><td>go out</td><td>salir</td></tr>
                        <tr><td>chat</td><td>chatear</td></tr>
                    </tbody>
                </table>
            </div>
            
            <div class="vocab-card">
                <h3>Clothes / Ropa</h3>
                <table>
                    <thead><tr><th>English</th><th>EspaÃ±ol</th></tr></thead>
                    <tbody>
                        <tr><td>shirt</td><td>camisa</td></tr>
                        <tr><td>pants</td><td>pantalones</td></tr>
                        <tr><td>dress</td><td>vestido</td></tr>
                        <tr><td>shoes</td><td>zapatos</td></tr>
                        <tr><td>jacket</td><td>chaqueta</td></tr>
                        <tr><td>skirt</td><td>falda</td></tr>
                        <tr><td>T-shirt</td><td>camiseta</td></tr>
                        <tr><td>socks</td><td>medias</td></tr>
                        <tr><td>hat</td><td>sombrero / gorra</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="vocab-card">
                <h3>Weather and Seasons / Clima y estaciones</h3>
                <table>
                    <thead><tr><th>English</th><th>EspaÃ±ol</th></tr></thead>
                    <tbody>
                        <tr><td>sunny</td><td>soleado</td></tr>
                        <tr><td>rainy</td><td>lluvioso</td></tr>
                        <tr><td>cloudy</td><td>nublado</td></tr>
                        <tr><td>cold</td><td>frÃ­o</td></tr>
                        <tr><td>hot</td><td>caluroso</td></tr>
                        <tr><td>snow</td><td>nieve</td></tr>
                        <tr><td>wind</td><td>viento</td></tr>
                        <tr><td>summer</td><td>verano</td></tr>
                        <tr><td>winter</td><td>invierno</td></tr>
                        <tr><td>spring</td><td>primavera</td></tr>
                        <tr><td>autumn (fall)</td><td>otoÃ±o</td></tr>
                    </tbody>
                </table>
            </div>
            
            <div class="vocab-card">
                <h3>Places in Town / Lugares de la ciudad</h3>
                <table>
                    <thead><tr><th>English</th><th>EspaÃ±ol</th></tr></thead>
                    <tbody>
                        <tr><td>park</td><td>parque</td></tr>
                        <tr><td>school</td><td>escuela</td></tr>
                        <tr><td>supermarket</td><td>supermercado</td></tr>
                        <tr><td>hospital</td><td>hospital</td></tr>
                        <tr><td>cinema</td><td>cine</td></tr>
                        <tr><td>store / shop</td><td>tienda</td></tr>
                        <tr><td>restaurant</td><td>restaurante</td></tr>
                        <tr><td>library</td><td>biblioteca</td></tr>
                        <tr><td>bus stop</td><td>parada de bus</td></tr>
                        <tr><td>street</td><td>calle</td></tr>
                    </tbody>
                </table>
            </div>
            
            <div class="vocab-card">
                <h3>Useful Expressions / Expresiones Ãºtiles</h3>
                <table>
                    <thead><tr><th>English</th><th>EspaÃ±ol</th></tr></thead>
                    <tbody>
                        <tr><td>Hello / Hi</td><td>Hola</td></tr>
                        <tr><td>How are you?</td><td>Â¿CÃ³mo estÃ¡s?</td></tr>
                        <tr><td>"Iâ€™m fine, thanks"</td><td>"Estoy bien, gracias"</td></tr>
                        <tr><td>Whatâ€™s your name?</td><td>Â¿CÃ³mo te llamas?</td></tr>
                        <tr><td>Nice to meet you</td><td>Encantado de conocerte</td></tr>
                        <tr><td>See you later</td><td>Nos vemos luego</td></tr>
                        <tr><td>Thank you</td><td>Gracias</td></tr>
                        <tr><td>Youâ€™re welcome</td><td>De nada</td></tr>
                        <tr><td>Please</td><td>Por favor</td></tr>
                        <tr><td>Sorry</td><td>Lo siento</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="vocab-card full-width">
                <h3>Verbos en Diferentes Formas (Presente Simple)</h3>
                <p>PrÃ¡ctica de verbos comunes en diferentes formas de oraciÃ³n (Nivel A1).</p>
                
                <h4>Acciones personales</h4>
                <table>
                    <thead><tr><th>Verb</th><th>Affirmative</th><th>Negative</th><th>Interrogative</th><th>Third Person</th></tr></thead>
                    <tbody>
                        <tr><td>like</td><td>I like pizza.</td><td>I donâ€™t like pizza.</td><td>Do you like pizza?</td><td>He likes pizza.</td></tr>
                        <tr><td>play</td><td>I play football.</td><td>I donâ€™t play football.</td><td>Do you play football?</td><td>She plays football.</td></tr>
                        <tr><td>have</td><td>I have a cat.</td><td>I donâ€™t have a cat.</td><td>Do you have a cat?</td><td>He has a cat.</td></tr>
                        <tr><td>go</td><td>I go to school.</td><td>I donâ€™t go to school.</td><td>Do you go to school?</td><td>She goes to school.</td></tr>
                        <tr><td>watch</td><td>I watch TV.</td><td>I donâ€™t watch TV.</td><td>Do you watch TV?,</td><td>He watches TV.</td></tr>
                    </tbody>
                </table>

                <h4>Rutina diaria</h4>
                <table>
                    <thead><tr><th>Verb</th><th>Affirmative</th><th>Negative</th><th>Interrogative</th><th>Third Person</th></tr></thead>
                    <tbody>
                        <tr><td>wake up</td><td>I wake up at 6.</td><td>I donâ€™t wake up at 6.</td><td>Do you wake up at 6?</td><td>He wakes up at 6.</td></tr>
                        <tr><td>brush teeth</td><td>I brush my teeth.</td><td>I donâ€™t brush my teeth.</td><td>Do you brush your teeth?</td><td>She brushes her teeth.</td></tr>
                        <tr><td>eat</td><td>I eat breakfast.</td><td>I donâ€™t eat breakfast.</td><td>Do you eat breakfast?</td><td>He eats breakfast.</td></tr>
                        <tr><td>study</td><td>I study English.</td><td>I donâ€™t study English.</td><td>Do you study English?</td><td>She studies English.</td></tr>
                        <tr><td>sleep</td><td>I sleep early.</td><td>I donâ€™t sleep early.</td><td>Do you sleep early?</td><td>He sleeps early.</td></tr>
                    </tbody>
                </table>

                <h4>Tiempo libre</h4>
                <table>
                    <thead><tr><th>Verb</th><th>Affirmative</th><th>Negative</th><th>Interrogative</th><th>Third Person</th></tr></thead>
                    <tbody>
                        <tr><td>listen</td><td>I listen to music.</td><td>I donâ€™t listen to music.</td><td>Do you listen to music?</td><td>She listens to music.</td></tr>
                        <tr><td>read</td><td>I read books.</td><td>I donâ€™t read books.</td><td>Do you read books?</td><td>He reads books.</td></tr>
                        <tr><td>dance</td><td>I dance at parties.</td><td>I donâ€™t dance at parties.</td><td>Do you dance at parties?</td><td>She dances at parties.</td></tr>
                        <tr><td>draw</td><td>I draw in my notebook.</td><td>I donâ€™t draw in my notebook.</td><td>Do you draw in your notebook?</td><td>He draws in his notebook.</td></tr>
                        <tr><td>play</td><td>I play video games.</td><td>I donâ€™t play video games.</td><td>Do you play video games?</td><td>She plays video games.</td></tr>
                    </tbody>
                </table>

                <h4>Comida y bebidas</h4>
                <table>
                    <thead><tr><th>Verb</th><th>Affirmative</th><th>Negative</th><th>Interrogative</th><th>Third Person</th></tr></thead>
                    <tbody>
                        <tr><td>eat</td><td>I eat rice.</td><td>I donâ€™t eat rice.</td><td>Do you eat rice?</td><td>He eats rice.</td></tr>
                        <tr><td>drink</td><td>I drink water.</td><td>I donâ€™t drink water.</td><td>Do you drink water?</td><td>She drinks water.</td></tr>
                        <tr><td>cook</td><td>I cook dinner.</td><td>I donâ€™t cook dinner.</td><td>Do you cook dinner?</td><td>He cooks dinner.</td></tr>
                        <tr><td>like</td><td>I like apples.</td><td>I donâ€™t like apples.</td><td>Do you like apples?</td><td>She likes apples.</td></tr>
                        <tr><td>want</td><td>I want juice.</td><td>I donâ€™t want juice.</td><td>Do you want juice?</td><td>He wants juice.</td></tr>
                    </tbody>
                </table>

                <h4>Escuela</h4>
                <table>
                    <thead><tr><th>Verb</th><th>Affirmative</th><th>Negative</th><th>Interrogative</th><th>Third Person</th></tr></thead>
                    <tbody>
                        <tr><td>study</td><td>I study math.</td><td>I donâ€™t study math.</td><td>Do you study math?</td><td>He studies math.</td></tr>
                        <tr><td>write</td><td>I write in my notebook.</td><td>I donâ€™t write in my notebook.</td><td>Do you write in your notebook?</td><td>She writes in her notebook.</td></tr>
                        <tr><td>read</td><td>I read in class.</td><td>I donâ€™t read in class.</td><td>Do you read in class?</td><td>He reads in class.</td></tr>
                        <tr><td>help</td><td>I help my teacher.</td><td>I donâ€™t help my teacher.</td><td>Do you help your teacher?</td><td>She helps her teacher.</td></tr>
                        <tr><td>use</td><td>I use a computer.</td><td>I donâ€™t use a computer.</td><td>Do you use a computer?</td><td>He uses a computer.</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>


    <div class="chatbot-container">
        <button id="chatbot-button" onclick="toggleChat()">ðŸ¤– ChatBot IA</button>
        <div id="chatbot-window">
            <div class="chatbot-header">Chat con tu Tutor Virtual</div>
            <div class="chatbot-body">
                <p>Â¡Hola! Soy tu asistente de inglÃ©s. PregÃºntame sobre el vocabulario o la gramÃ¡tica A1.</p>
                <p class="nota">**NOTA IMPORTANTE:** Esta es una simulaciÃ³n de interfaz. Integrar una IA real requiere servicios avanzados.</p>
            </div>
        </div>
    </div>

    <script>
        // FunciÃ³n para el ChatBot
        function toggleChat() {
            var chatWindow = document.getElementById('chatbot-window');
            chatWindow.style.display = chatWindow.style.display === 'block' ? 'none' : 'block';
        }

        // --- LÃ“GICA DE ACTIVIDADES INTERACTIVAS ---

        // DATOS DE LAS ACTIVIDADES
        const fillInWords = ["breakfast", "hipsters", "fun", "night", "deadlines", "happy", "right", "dancing", "you", "22"]; // Palabras de la cancion
        
        const matchPairs = [
            { en: "night", es: "noche" },
            { en: "friends", es: "amigos" },
            { en: "breakfast", es: "desayuno" },
            { en: "dancing", es: "bailar" },
            { en: "feel", es: "sentirse" },
            { en: "heartbreak", es: "corazÃ³n roto" },
            { en: "fun", es: "diversiÃ³n" },
            { en: "right", es: "correcto" }
        ];

        // 1. FILL IN THE BLANKS (Arrastrar y Soltar Simulado)

        function initializeFillInTheBlanks() {
            const wordBank = document.getElementById('word-bank');
            const words = shuffleArray([...fillInWords]); 

            words.forEach(word => {
                const draggable = document.createElement('span');
                draggable.className = 'draggable-word';
                draggable.textContent = word;
                draggable.setAttribute('draggable', true);
                draggable.addEventListener('dragstart', dragStart);
                wordBank.appendChild(draggable);
            });

            document.querySelectorAll('.drop-zone').forEach(zone => {
                zone.addEventListener('dragover', dragOver);
                zone.addEventListener('drop', drop);
                zone.addEventListener('dragleave', dragLeave);
            });
        }

        let draggedElement = null;

        function dragStart(e) {
            draggedElement = e.target;
            e.dataTransfer.setData('text/plain', e.target.textContent);
            setTimeout(() => e.target.classList.add('hide'), 0);
        }

        function dragOver(e) {
            e.preventDefault();
            if (e.target.children.length === 0) {
                e.target.classList.add('drag-over');
            }
        }

        function dragLeave(e) {
            e.target.classList.remove('drag-over');
        }

        function drop(e) {
            e.preventDefault();
            e.target.classList.remove('drag-over');

            if (e.target.children.length === 0 && e.target.classList.contains('drop-zone')) {
                // Crear un duplicado visual para dejar en el drop-zone
                const clone = draggedElement.cloneNode(true);
                clone.removeAttribute('draggable');
                clone.classList.remove('hide');
                clone.classList.add('dropped');
                e.target.appendChild(clone);
                
                // Ocultar el original del banco
                draggedElement.style.visibility = 'hidden'; 
                draggedElement.classList.add('used'); 
            }
        }

        function checkFillInTheBlanks() {
            let correctCount = 0;
            const totalBlanks = document.querySelectorAll('.drop-zone').length;
            
            document.querySelectorAll('.drop-zone').forEach(zone => {
                const droppedWordElement = zone.querySelector('.dropped');
                if (droppedWordElement) {
                    const droppedWord = droppedWordElement.textContent.trim().toLowerCase();
                    const correctWord = zone.getAttribute('data-correct').toLowerCase();

                    if (droppedWord === correctWord) {
                        zone.classList.add('correct');
                        zone.classList.remove('incorrect');
                        correctCount++;
                    } else {
                        zone.classList.add('incorrect');
                        zone.classList.remove('correct');
                    }
                } else {
                    zone.classList.remove('correct', 'incorrect');
                }
            });

            const resultMessage = document.getElementById('fill-in-result');
            if (correctCount === totalBlanks) {
                resultMessage.textContent = 'Â¡Felicidades! Todas las respuestas son correctas. ðŸŽ‰';
                resultMessage.style.color = 'green';
            } else {
                resultMessage.textContent = `Tienes ${correctCount} de ${totalBlanks} respuestas correctas. Â¡Sigue practicando!`;
                resultMessage.style.color = 'red';
            }
        }


        // 2. VOCABULARY MATCH (Seleccionar y Verificar)

        let selectedEnglishCard = null;
        let selectedSpanishCard = null;
        let matchedPairs = 0;

        function initializeMatchGame() {
            const matchGrid = document.getElementById('match-grid');
            
            // Crear una lista plana y desordenada de todas las tarjetas
            const cards = [];
            matchPairs.forEach(pair => {
                cards.push({ text: pair.en, lang: 'en', match: pair.es });
                cards.push({ text: pair.es, lang: 'es', match: pair.en });
            });

            const shuffledCards = shuffleArray(cards);
            
            shuffledCards.forEach(cardData => {
                const card = document.createElement('div');
                card.className = 'match-card';
                card.textContent = cardData.text;
                card.setAttribute('data-lang', cardData.lang);
                card.setAttribute('data-match', cardData.match);
                card.addEventListener('click', () => selectCard(card));
                matchGrid.appendChild(card);
            });
        }

        function selectCard(card) {
            if (card.classList.contains('matched') || card.classList.contains('selected')) {
                return;
            }

            // Deseleccionar si ya hay una del mismo tipo
            if (card.getAttribute('data-lang') === 'en' && selectedEnglishCard) {
                selectedEnglishCard.classList.remove('selected');
                selectedEnglishCard = null;
            } else if (card.getAttribute('data-lang') === 'es' && selectedSpanishCard) {
                selectedSpanishCard.classList.remove('selected');
                selectedSpanishCard = null;
            }
            
            card.classList.add('selected');

            if (card.getAttribute('data-lang') === 'en') {
                selectedEnglishCard = card;
            } else {
                selectedSpanishCard = card;
            }

            // Verificar match
            if (selectedEnglishCard && selectedSpanishCard) {
                const enMatch = selectedEnglishCard.getAttribute('data-match');
                const esText = selectedSpanishCard.textContent;

                if (enMatch.toLowerCase() === esText.toLowerCase()) {
                    // Match correcto
                    selectedEnglishCard.classList.add('matched');
                    selectedSpanishCard.classList.add('matched');
                    selectedEnglishCard.classList.remove('selected');
                    selectedSpanishCard.classList.remove('selected');
                    
                    selectedEnglishCard = null;
                    selectedSpanishCard = null;
                    matchedPairs++;

                    if (matchedPairs === matchPairs.length) {
                        document.getElementById('match-result').textContent = 'Â¡Juego completo! Excelente. ðŸŽ‰';
                        document.getElementById('match-result').style.color = 'green';
                    }
                } else {
                    // Match incorrecto: resaltar brevemente y deseleccionar
                    selectedEnglishCard.classList.add('mismatch');
                    selectedSpanishCard.classList.add('mismatch');
                    
                    setTimeout(() => {
                        selectedEnglishCard.classList.remove('selected', 'mismatch');
                        selectedSpanishCard.classList.remove('selected', 'mismatch');
                        selectedEnglishCard = null;
                        selectedSpanishCard = null;
                    }, 800);
                }
            }
        }


        // Utilidad para desordenar un array (Algoritmo de Fisher-Yates)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Inicializar los juegos cuando la pÃ¡gina carga
        window.onload = function() {
            initializeFillInTheBlanks();
            initializeMatchGame();
        };

    </script>

</body>
</html>
